<app-add-header-bar
  caption="Add person"
  (addClick)="onAdd(content)"
/>

<ul class="list-group">
  @for (person of persons$ | async; track person.id) {
    <li class="list-group-item list-group-item-action pointer"
        (click)="onEdit(content, person)">
      <app-person-view
        [person]="person"
        (edit)="onEdit(content, $event)"
        (delete)="onDelete($event)"
      />
    </li>
  }
</ul>

<ng-template #content let-offcanvas>
  <div class="offcanvas-header">
    <h4 class="offcanvas-title" id="offcanvas-basic-title">{{ canvasTitle }}</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="offcanvas.dismiss('Cross click')"></button>
  </div>

  <div class="offcanvas-body">
    <app-person-edit
      [person]="personToEdit"
      [edit]="edit"
      (cancelled)="onEditCancelled()"
      (saved)="onEditSaved()"
    />
  </div>
</ng-template>
